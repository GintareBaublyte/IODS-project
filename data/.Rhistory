install.packages("pacman")
library(pacman)
p_load(tidyverse, descr, haven)
lrn14 <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS3-data.txt", sep="\t", header=TRUE)
structure(lrn14)
?str
?structure
str(lrn14)
dim(lrn14)
library(MASS)
data("Boston")
str("Boston")
str(data)
library(MASS)
data("Boston")
str(data)
str(Boston)
dim(Boston)
dim(Boston)
str(Boston)
summary(Boston)
?str
str(Boston)
pairs(Boston)
```{r}
pairs(Boston)
var.cor <- function(x, y, digits=2, prefix="", cex.cor, ...)
{
usr <- par("usr"); on.exit(par(usr))
par(usr = c(0, 1, 0, 1))
r <- abs(cor(x, y))
txt <- format(c(r, 0.123456789), digits=digits)[1]
txt <- paste(prefix, txt, sep="")
if(missing(cex.cor)) cex.cor <- 0.8/strwidth(txt)
text(0.5, 0.5, txt, cex = cex.cor * r)
}
pairs(Boston)
?pairs
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
library(ggplot2)
plotmatrix(with(Boston))
ggpairs(Boston)
library(ggplot2)
p <- ggpairs(Boston, mapping = aes(alpha = 0.3), lower = list(combo = wrap("facethist", bins = 20)))
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
p <- ggpairs(Boston, mapping = aes(alpha = 0.3), lower = list(combo = wrap("facethist", bins = 20)))
library(ggplot2)
p <- ggpairs(Boston, mapping = aes(alpha = 0.3), lower = list(combo = wrap("facethist", bins = 20)))
library(ggplot2)
p <- ggplot(Boston, mapping = aes(alpha = 0.3), lower = list(combo = wrap("facethist", bins = 20)))
p
pairs(Boston, main = "Pairs matrix", pch = 21,
bg = c("red", "green3", "blue", "yellow"), upper.panel = NULL)
pairs(Boston, main = "Pairs matrix", upper.panel = NULL)
summary(Boston)
install.packages("tidyverse")
library(tidyverse)
library("tidyverse")
cor_matrix<-cor(Boston) %>% round(digits = 2)
library(dplyr)
cor_matrix<-cor(Boston) %>% round(digits = 2)
cor_matrix
corrplot.mixed(cor_matrix, method="circle", type = "upper", cl.pos = "b", tl.pos = "d", tl.cex = 0.6)
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
library("tidyverse")
remove.packages(c("tidyverse", "ggplot2"))
install.packages('tidyverse', dependencies = TRUE)
install.packages("tidyverse", dependencies = TRUE)
install.packages('ggplot2', dependencies = TRUE)
install.packages("ggplot2", dependencies = TRUE)
library(tidyverse)
library("tidyverse")
library('tidyverse')
install.packages("tidyverse")
install.packages("tidyverse")
library('tidyverse')
str(human)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
str(human)
read.table(human, file = "human.txt", sep sep = ";")
read.table(human, file = "human.txt", sep = ";")
read.table(file = "human.txt", sep = ";")
str(human)
human <- read.table(file = "human.txt", sep = ";")
str(human)
install.packages(tidyr)
library(tidyr)
install.packages(stringr)
library(stringr)
str(human$gni)
str_replace(human$gni, pattern = ",", replace = "") %>% as.numeric
library(dplyr)
keep <- c("country", "edu2FM", "labF", "lifeexp", "eduexp", "gni", "matmort", "adolbirth", "repparl")
human <- select(human, one_of(keep))
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human_ <- filter(human, complete.cases(human))
tail(human, n=10)
last <- nrow(human) - 7
human_ <- human[1:last, ]
rownames(human_) <- human_$Country
human_ <- select(human, -Country)
rownames(human_) <- human_$country
human_ <- select(human, -country)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
human <- read.table(file = "human.txt", sep = ";")
str(human$gni)
str_replace(human$gni, pattern = ",", replace = "") %>% as.numeric
keep <- c("country", "edu2FM", "labF", "lifeexp", "eduexp", "gni", "matmort", "adolbirth", "repparl")
human <- select(human, one_of(keep))
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human_ <- filter(human, complete.cases(human))
tail(human, n=10)
last <- nrow(human) - 7
human_ <- human[1:last, ]
rownames(human_) <- human_$country
human_ <- select(human, -country)
str(human)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
human <- read.table(file = "human.txt", sep = ";")
str(human)
install.packages(tidyr)
library(tidyr)
install.packages(stringr)
library(stringr)
library(dplyr)
str(human$gni)
str_replace(human$gni, pattern = ",", replace = "") %>% as.numeric
keep <- c("country", "edu2FM", "labF", "lifeexp", "eduexp", "gni", "matmort", "adolbirth", "repparl")
human <- select(human, one_of(keep))
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human_ <- filter(human, complete.cases(human))
tail(human, n=10)
last <- nrow(human) - 7
human_ <- human[1:last, ]
rownames(human_) <- human_$country
human_ <- select(human, -country)
str(human)
?one_of
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
human <- read.table(file = "human.txt", sep = ";")
str(human$gni)
keep <- c("country", "edu2FM", "labF", "lifeexp", "eduexp", "gni", "matmort", "adolbirth", "repparl")
human <- read.table(file = "human.txt", sep = ";")
str(human)
str(human$gni)
str_replace(human$gni, pattern = ",", replace = "") %>% as.numeric
keep <- c("country", "edu2FM", "labF", "lifeexp", "eduexp", "gni", "matmort", "adolbirth", "repparl")
human <- dplyr::select(human, one_of(keep))
complete.cases(human)
tail(human, n=10)
last <- nrow(human) - 7
human_ <- human[1:last, ]
rownames(human_) <- human_$country
human_ <- select(human, -country)
str(human)
str(human_)
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
tail(human_, n=10)
human <- read.table(file = "human.txt", sep = ";")
str(human$gni)
str_replace(human$gni, pattern = ",", replace = "") %>% as.numeric
keep <- c("country", "edu2FM", "labF", "lifeexp", "eduexp", "gni", "matmort", "adolbirth", "repparl")
human <- dplyr::select(human, one_of(keep))
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human_ <- filter(human, complete.cases(human))
tail(human_, n=10)
last <- nrow(human_) - 7
human_ <- human_[1:last, ]
rownames(human_) <- human_$country
human_ <- dplyr::select(human_, -country)
str(human_)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
str(human_)
library(MASS)
library(dplyr)
human <- read.table(file = "human2.txt", sep = ";", row.names = TRUE)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human <- read.table(file = "human2.txt", sep = ";", row.names = TRUE)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human <- read.table(file = "human2.txt", sep = ";")
str(human)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human_ <- read.table(file = "human2.txt", sep = ";")
str(human_)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
write.table(human, file = "human2.txt", sep = ";", row.names = TRUE)
human <- read.table(file = "human2.txt", sep = ";")
str(human)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
write.table(human, file = "human2.txt", sep = ";", row.names = TRUE)
human_ <- read.table(file = "human2.txt", sep = ";")
str(human_)
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
source('~/Open Data/IODS-project/data/create_human.R', echo=TRUE)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human_ <- read.table(file = "human2.txt", sep = ";")
str(human_)
dim(human_)
str(human_)
dim(human_)
dim(human_)
human_ <- read.table(file = "human2.txt", sep = ";")
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human_ <- read.table(file = "human2.txt", sep = ";")
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human_ <- read.table(file = "human2.txt", sep = ";")
str(human_)
dim(human_)
str(human_)
dim(human_)
str(human_)
dim(human_)
install.packages("GGally")
library(GGally)
ggpairs(human_)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human_ <- read.table(file = "human2.txt", sep = ";")
str(human_)
dim(human_)
install.packages("GGally")
library(GGally)
ggpairs(human_)
install.packages("GGally")
pairs(human_)
ggpairs(human_)
cor(human_) %>% corrplot
cor(human_)
cor_matrix<-cor(human_) %>% round(digits = 2)
#Gintare Baublyte
#16.02.2017
library(plyr)
library(dplyr)
#Read the “Human development” and “Gender inequality” datas into R
hd <- read.csv("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/human_development.csv", stringsAsFactors = F)
gii <- read.csv("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/gender_inequality.csv", stringsAsFactors = F, na.strings = "..")
#Explore the datasets
str(hd)
dim(hd)
str(gii)
dim(gii)
#Create summaries of the variables
summary(hd)
summary(gii)
#Rename the variables
hdnew <- plyr::rename(hd, c("HDI.Rank" = "rank", "Country" = "country", "Human.Development.Index..HDI." = "hdi", "Life.Expectancy.at.Birth" = "lifeexp", "Expected.Years.of.Education" = "eduexp", "Mean.Years.of.Education" = "edumean", "Gross.National.Income..GNI..per.Capita" = "gni", "GNI.per.Capita.Rank.Minus.HDI.Rank" = "gnirank"))
names(hdnew)
giinew <- plyr::rename(gii, c("GII.Rank"="rank", "Country"="country", "Gender.Inequality.Index..GII."="gii", "Maternal.Mortality.Ratio"="matmort", "Adolescent.Birth.Rate"="adolbirth", "Percent.Representation.in.Parliament"="repparl", "Population.with.Secondary.Education..Female."="edu2F", "Population.with.Secondary.Education..Male."="edu2M", "Labour.Force.Participation.Rate..Female."="labF", "Labour.Force.Participation.Rate..Male."="labM"))
names(giinew)
#mutate "Gender inequality" data by creating two new variables
giinew <- mutate(giinew, edu2FM = edu2F/edu2M, labFM = labF/labM)
#Join together the two datasets using the variable Country as the identifier
hd_gii <- inner_join(hdnew, giinew, by = "country")
human <- hd_gii
#save new data
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
write.table(human, file = "human.txt", sep = ";")
#Data Wrangling continued
#read the data
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
human <- read.table(file = "human.txt", sep = ";")
#check the structure
str(human)
#load packages
install.packages(tidyr)
library(tidyr)
install.packages(stringr)
library(stringr)
library(dplyr)
#mutate the data
#transform GNI variable to numeric (Using string manipulation)
str(human$gni)
human$gni <- str_replace(human$gni, pattern = ",", replace = "") %>% as.numeric
# columns to keep
keep <- c("country", "edu2FM", "labF", "lifeexp", "eduexp", "gni", "matmort", "adolbirth", "repparl")
human <- dplyr::select(human, one_of(keep))
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human_ <- filter(human, complete.cases(human))
tail(human_, n=10)
last <- nrow(human_) - 7
human_ <- human_[1:last, ]
rownames(human_) <- human_$country
human_ <- dplyr::select(human_, -country)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
write.table(human_, file = "human2.txt", sep = ";", row.names = TRUE)
human_ <- read.table(file = "human2.txt", sep = ";")
str(human_)
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
setwd("C:/Users/Severi/Documents/Open Data/IODS-project/data")
library(MASS)
library(dplyr)
human_ <- read.table(file = "human2.txt", sep = ";")
str(human_)
dim(human_)
ggpairs(human_)
cor_matrix<-cor(human_) %>% round(digits = 2)
corrplot.mixed(cor_matrix)
library('corrplot')
cor_matrix<-cor(human_) %>% round(digits = 2)
corrplot.mixed(cor_matrix)
summary(human_)
pca_human <- prcomp(human_)
summary(pca_human)
biplot(pca_human, choices = 1:2, cex = c(0.8, 1), col = c("grey40", "deeppink2"))
human_std <- scale(human_)
summary(human_std)
pca_human2 <- prcomp(human_std)
summary(pca_human2)
biplot(pca_human2, choices = 1:2, cex = c(0.8, 1), col = c("grey40", "deeppink2"))
pairs(human_)
pairs(human_, upper.panel = NULL)
install.packages('ggplot')
install.packages('GGally')
install.packages('GGally')
install.packages("GGally")
library(GGally)
install.packages('GGally')
install.packages("GGally")
library(GGally)
